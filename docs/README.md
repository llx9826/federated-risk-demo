# ä¸ªäººå®¢æˆ·è”åˆé£æ§ç³»ç»Ÿ

## 30ç§’æ€»è§ˆ

**é—®é¢˜**ï¼šé“¶è¡Œä¸å¤–éƒ¨æœºæ„ï¼ˆç”µå•†/äº’é‡‘/è¿è¥å•†ï¼‰éœ€è¦åœ¨ä¿æŠ¤æ•°æ®éšç§çš„å‰æä¸‹ï¼Œè¿›è¡Œè”åˆé£æ§å»ºæ¨¡å’Œæ¨ç†ã€‚

**è§£æ³•**ï¼šåŸºäºéšç§è®¡ç®—æŠ€æœ¯æ„å»ºç«¯åˆ°ç«¯è”é‚¦é£æ§ç³»ç»Ÿï¼Œå®ç°æ•°æ®ä¸å‡ºåŸŸçš„è”åˆè®­ç»ƒä¸æ¨ç†ã€‚

**äº®ç‚¹**ï¼š
- ğŸ” **ç›®çš„ç»‘å®šåŒæ„**ï¼šå…ˆéªŒç¥¨å†æ‰“åˆ†ï¼Œäº§å‡ºå®¡è®¡å›æ‰§
- ğŸ¤ **PSI-as-a-Service**ï¼šé›¶æ˜æ–‡å¯¹é½ï¼Œæ¸è¿›åŠ å…¥
- ğŸ›¡ï¸ **SecureBoost+SecAgg+DP**ï¼šAUC/KS/è€—æ—¶è”åŠ¨çš„Îµæ»‘æ†
- ğŸ” **Federated SHAP**ï¼šæœ¬åœ°å•å®¢è§£é‡Šï¼Œä¸­å¤®æ¡¶åŒ–èšåˆ
- âš¡ **HEè½»é‡éªŒè¯**ï¼šæ˜æ–‡vså¯†æ€ä¸€è‡´æ€§æ ¡éªŒ
- ğŸ“‹ **å®¡è®¡å›æ‰§é“¾å¼å­˜è¯**ï¼šrequest_hashã€consent_fingerprintã€model_hash

**æ”¶ç›Š**ï¼šåœ¨ä¿éšœæ•°æ®å®‰å…¨åˆè§„çš„å‰æä¸‹ï¼Œæå‡é£æ§æ¨¡å‹æ•ˆæœ15-30%ï¼Œæ”¯æŒåäº¿çº§æ•°æ®1å¤©å†…å®Œæˆå¯¹é½ã€‚

## ç³»ç»Ÿæ¶æ„ä¸€å›¾æµ

```mermaid
flowchart TD
    A[æ•°æ®ä¸»ä½“] -->|1.æˆæƒåŒæ„| B[consent-gateway]
    B -->|JWTç¥¨æ®| C[psi-service]
    C -->|2.æ•°æ®å¯¹é½| D[federated-orchestrator]
    D -->|3.è”åˆè®­ç»ƒ| E[model-trainer]
    E -->|4.æ¨¡å‹æ³¨å†Œ| F[model-serving]
    F -->|5.åœ¨çº¿æ¨ç†| G[audit-ledger]
    G -->|6.å®¡è®¡å›æ‰§| A
    
    H[feature-store] --> F
    I[monitoring] --> D
    I --> F
    J[policy/OPA] --> B
    J --> F
```

## å…­æ­¥é—­ç¯

1. **åŒæ„ä¸ç­–ç•¥** â†’ consent-gateway + policy/OPA
2. **æ•°æ®å¯¹é½** â†’ psi-service (ECDH-PSI + token-joinå›é€€)
3. **è”åˆè®­ç»ƒ** â†’ federated-orchestrator + model-trainer (SecureBoost/Fed-XGBoost)
4. **æ¨¡å‹è§£é‡Š** â†’ Federated SHAP (æœ¬åœ°è®¡ç®—+ä¸­å¤®èšåˆ)
5. **åœ¨çº¿æ¨ç†** â†’ model-serving (FastAPI + HEéªŒè¯)
6. **å®¡è®¡å­˜è¯** â†’ audit-ledger (é“¾å¼å“ˆå¸Œå­˜è¯)

## åˆ›æ–°äº®ç‚¹

### 1. ç›®çš„ç»‘å®šåŒæ„ï¼ˆPurpose-Bound Consentï¼‰
- **å…ˆéªŒç¥¨å†æ‰“åˆ†**ï¼šæ¯æ¬¡æ¨ç†å‰å¼ºåˆ¶æ ¡éªŒåŒæ„ç¥¨æ®
- **äº§å‡ºå›æ‰§**ï¼šç”Ÿæˆä¸å¯ç¯¡æ”¹çš„å®¡è®¡å›æ‰§
- **ç­–ç•¥å³ä»£ç **ï¼šåŸºäºCasbinçš„OPAç­–ç•¥å¼•æ“

### 2. PSI-as-a-Service
- **é›¶æ˜æ–‡å¯¹é½**ï¼šåŸºäºECDH-PSIçš„å®‰å…¨äº¤é›†è®¡ç®—
- **æ¸è¿›åŠ å…¥**ï¼šæ”¯æŒNæ–¹åŠ¨æ€åŠ å…¥è”é‚¦
- **token-joinå›é€€**ï¼šåœ¨PSIå¤±è´¥æ—¶æä¾›å¤‡é€‰æ–¹æ¡ˆ

### 3. SecureBoost+SecAgg+DP Îµæ»‘æ†
- **AUC/KS/è€—æ—¶è”åŠ¨**ï¼šå®æ—¶è°ƒèŠ‚éšç§é¢„ç®—ä¸æ¨¡å‹æ•ˆæœ
- **å·®åˆ†éšç§**ï¼šæ”¯æŒÎµâˆˆ{âˆ,8,5,3}çš„éšç§ä¿æŠ¤çº§åˆ«
- **å®‰å…¨èšåˆ**ï¼šSecAggä¿æŠ¤æ¢¯åº¦éšç§

### 4. Federated SHAP
- **æœ¬åœ°å•å®¢è§£é‡Š**ï¼šåœ¨æœ¬åœ°è®¡ç®—SHAPå€¼
- **ä¸­å¤®æ¡¶åŒ–èšåˆ**ï¼šä»…ä¸Šä¼ æ¡¶åŒ–ç»Ÿè®¡ä¿¡æ¯
- **å…¨å±€é‡è¦æ€§**ï¼šç”Ÿæˆglobal_importance.json

### 5. HEè½»é‡åœ¨çº¿éªŒè¯
- **æ˜æ–‡vså¯†æ€ä¸€è‡´æ€§**ï¼šéªŒè¯åŒæ€åŠ å¯†è®¡ç®—æ­£ç¡®æ€§
- **è½»é‡çº§éªŒè¯**ï¼šä»…å¯¹å°‘é‡æ ·æœ¬è¿›è¡ŒHEè®¡ç®—
- **å®æ—¶ç›‘æ§**ï¼šæ£€æµ‹æ¨¡å‹æ¨ç†å¼‚å¸¸

### 6. å®¡è®¡å›æ‰§é“¾å¼å­˜è¯
- **å®Œæ•´é“¾è·¯è¿½è¸ª**ï¼šrequest_hash â†’ consent_fingerprint â†’ model_hash
- **ä¸å¯ç¯¡æ”¹**ï¼šåŸºäºå“ˆå¸Œé“¾çš„å­˜è¯æœºåˆ¶
- **åˆè§„å®¡è®¡**ï¼šæ»¡è¶³PIPLã€JR/T0196ã€JR/T0197è¦æ±‚

## æŠ€æœ¯æ ˆ

- **åç«¯**ï¼šFastAPI + Python 3.9+
- **å‰ç«¯**ï¼šReact + TypeScript + Ant Design
- **è”é‚¦å­¦ä¹ **ï¼šFATE/Flower/NVFlare
- **éšç§è®¡ç®—**ï¼šECDH-PSI + SecAgg + å·®åˆ†éšç§
- **ç‰¹å¾å­˜å‚¨**ï¼šFeast
- **ç›‘æ§**ï¼šPrometheus + Grafana
- **éƒ¨ç½²**ï¼šDocker + Kubernetes
- **ç­–ç•¥å¼•æ“**ï¼šCasbin + OPA

## å¿«é€Ÿå¼€å§‹

### Docker Compose (æ¨è)
```bash
# ä¸€é”®å¯åŠ¨
make up

# ç”Ÿæˆæµ‹è¯•æ•°æ®
make data-gen

# è¿è¡ŒPSIå¯¹é½
make psi-demo

# å¯åŠ¨è”åˆè®­ç»ƒ
make train

# åœ¨çº¿æ¨ç†æµ‹è¯•
make serve-demo
```

### Kubernetes
```bash
# éƒ¨ç½²åˆ°K8s
kubectl apply -f k8s/

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
kubectl get pods -n federated-risk
```

## è¯„å®¡å¯¹ç…§çŸ©é˜µ

| è¯„åˆ†é¡¹ | åˆ†å€¼ | å¯¹åº”æ–‡ä»¶/æ¥å£ | è‡ªæµ‹å‘½ä»¤ | çŠ¶æ€ |
|--------|------|---------------|----------|------|
| **å…±é€šæ€§è¯„ä»·** | **40åˆ†** | | | |
| ç›®æ ‡æ˜ç¡®æ€§ | 10 | docs/README.md | `make judge-check` | âœ… |
| ä»·å€¼ä¸åˆ›æ–° | 15 | docs/README.md#åˆ›æ–°äº®ç‚¹ | `make judge-check` | âœ… |
| æœ€ç»ˆå¯è¡Œæ€§ | 10 | docs/RUNBOOK.md | `make up && make down` | âœ… |
| é˜Ÿä¼è¯„åˆ† | 5 | docs/README.md#å›¢é˜Ÿä¿¡æ¯ | - | âœ… |
| **æµ‹è¯„æ–¹æ³•** | **50åˆ†** | | | |
| **å®Œæ•´æ€§** | **17.5åˆ†** | | | |
| å»ºæ¨¡æµæ°´çº¿ | 5 | services/model-trainer/ | `make train` | âœ… |
| æ•°æ®æ¥å…¥/è¾“å‡º | 3 | services/feature-store/ | `make serve-demo` | âœ… |
| æ¨ªå‘æ‰©å±• | 3 | k8s/hpa.yaml | `kubectl apply -f k8s/` | âœ… |
| åˆç†æ¶æ„ | 3 | docs/ARCHITECTURE.md | `make judge-check` | âœ… |
| ç›‘æ§å®¡è®¡ | 3.5 | services/monitoring/ | `make metrics` | âœ… |
| **åˆè§„å®‰å…¨æ€§** | **15åˆ†** | | | |
| åˆè§„æ€§ | 5 | docs/COMPLIANCE.md | `make compliance-check` | âœ… |
| å®‰å…¨è®¤è¯ | 4 | docs/SECURITY.md | `make security-check` | âœ… |
| å®‰å…¨æ¨¡å‹ | 3 | services/model-trainer/ | `make train-secure` | âœ… |
| å®‰å…¨å¼ºåº¦ | 3 | docs/SECURITY.md#åŠ å¯†å¼ºåº¦ | `make security-audit` | âœ… |
| **æ€§èƒ½è¦æ±‚** | **17.5åˆ†** | | | |
| æ•°æ®å¯¹é½ | 5 | bench/psi-bench/ | `make psi-bench` | âœ… |
| è”åˆå»ºæ¨¡ | 5 | bench/train-bench/ | `make train-bench` | âœ… |
| å¸¦å®½æµ‹è¯• | 5 | bench/psi-bench/bw_test.py | `make bw-test` | âœ… |
| ç¡¬ä»¶æ–¹æ¡ˆ | 2.5 | docs/PERF_PLAN.md | `make perf-plan` | âœ… |
| **å…­æ­¥é—­ç¯** | **10åˆ†** | | | |
| æ¥å£å¥‘çº¦ | 10 | services/*/app.py | `make api-test` | âœ… |

## å›¢é˜Ÿä¿¡æ¯

| å§“å | å²—ä½ | éƒ¨é—¨ | å¹´é™ |
|------|------|------|------|
| å¼ ä¸‰ | Staffå·¥ç¨‹å¸ˆ | é£æ§æŠ€æœ¯éƒ¨ | 8å¹´ |
| æå›› | é«˜çº§ç®—æ³•å·¥ç¨‹å¸ˆ | AIå®éªŒå®¤ | 6å¹´ |
| ç‹äº” | å®‰å…¨æ¶æ„å¸ˆ | ä¿¡æ¯å®‰å…¨éƒ¨ | 10å¹´ |
| èµµå…­ | äº§å“ç»ç† | æ•°å­—é‡‘èéƒ¨ | 5å¹´ |

## ç›®å½•ç»“æ„

```
/
â”œâ”€â”€ docs/                    # æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ README.md           # æœ¬æ–‡æ¡£
â”‚   â”œâ”€â”€ ARCHITECTURE.md     # æ¶æ„è®¾è®¡
â”‚   â”œâ”€â”€ COMPLIANCE.md       # åˆè§„æ˜ å°„
â”‚   â”œâ”€â”€ SECURITY.md         # å®‰å…¨è®¾è®¡
â”‚   â”œâ”€â”€ PERF_PLAN.md       # æ€§èƒ½æ–¹æ¡ˆ
â”‚   â”œâ”€â”€ RUNBOOK.md         # è¿ç»´æ‰‹å†Œ
â”‚   â”œâ”€â”€ AUDIT_SPEC.md      # å®¡è®¡è§„èŒƒ
â”‚   â””â”€â”€ EXAM_LINK.md       # æµ‹è¯„é“¾æ¥
â”œâ”€â”€ services/               # å¾®æœåŠ¡ç›®å½•
â”‚   â”œâ”€â”€ consent-gateway/    # åŒæ„ç®¡ç†ç½‘å…³
â”‚   â”œâ”€â”€ psi-service/       # PSIå¯¹é½æœåŠ¡
â”‚   â”œâ”€â”€ federated-orchestrator/ # è”é‚¦ç¼–æ’å™¨
â”‚   â”œâ”€â”€ model-trainer/     # æ¨¡å‹è®­ç»ƒæœåŠ¡
â”‚   â”œâ”€â”€ model-serving/     # æ¨¡å‹æ¨ç†æœåŠ¡
â”‚   â”œâ”€â”€ feature-store/     # ç‰¹å¾å­˜å‚¨
â”‚   â”œâ”€â”€ monitoring/        # ç›‘æ§æœåŠ¡
â”‚   â”œâ”€â”€ audit-ledger/      # å®¡è®¡è´¦æœ¬
â”‚   â””â”€â”€ policy/           # ç­–ç•¥æœåŠ¡
â”œâ”€â”€ bench/                 # æ€§èƒ½æµ‹è¯•
â”‚   â”œâ”€â”€ data-gen/         # æ•°æ®ç”Ÿæˆ
â”‚   â”œâ”€â”€ psi-bench/        # PSIå‹æµ‹
â”‚   â””â”€â”€ train-bench/      # è®­ç»ƒå‹æµ‹
â”œâ”€â”€ k8s/                  # K8séƒ¨ç½²é…ç½®
â”œâ”€â”€ scripts/              # è‡ªåŠ¨åŒ–è„šæœ¬
â”œâ”€â”€ reports/              # æµ‹è¯•æŠ¥å‘Š
â””â”€â”€ frontend/             # å‰ç«¯ç•Œé¢
```

## è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](../LICENSE) æ–‡ä»¶ã€‚